╔════════════════════════════════════════════════════════════════╗
║              📝 ИСТОРИЯ ИЗМЕНЕНИЙ - PLANETA CRM                ║
╚════════════════════════════════════════════════════════════════╝

Версия: Build от 30.12.2025 02:38 (PRODUCTION READY)

═══════════════════════════════════════════════════════════════

🆕 НОВЫЕ ФУНКЦИИ:

✅ Реализован функционал "Запомнить меня"
   • Чекбокс ☑️ включен → токен в localStorage (постоянно)
   • Чекбокс ☐ выключен → токен в sessionStorage (до закрытия браузера)
   • Повышена безопасность для публичных компьютеров

✅ JWT авторизация
   • Автоматическая отправка токена со всеми запросами
   • Декодирование токена для получения user_id
   • Загрузка данных пользователя из API /users

✅ Настроен Vite Proxy
   • Обход CORS в development режиме
   • Запросы через /api/v1/* → https://birson.tgapp.online/api/v1/*

✅ Страница клиентов готова
   • Интеграция с API контекстом
   • Информативные баннеры о статусе API
   • Красивое UX (loading, empty states)

✅ Роутинг настроен
   • React Router с защищёнными роутами
   • .htaccess для работы прямых ссылок на Beget
   • Автоматический редирект на /signin для неавторизованных

⚠️  Регистрация временно отключена
   • Страница /signup закомментирована
   • Ссылка "Зарегистрироваться" убрана с формы входа
   • Пользователи создаются через бэкенд
   • Будет включена после готовности API

═══════════════════════════════════════════════════════════════

🔧 ТЕХНИЧЕСКИЕ УЛУЧШЕНИЯ:

✓ TypeScript ошибки исправлены
✓ TableCell поддерживает colSpan и rowSpan
✓ Улучшено логирование в консоли для отладки
✓ Оптимизирован apiClient для работы с относительными URL
✓ Добавлены отладочные console.log для диагностики
✓ Подробные сообщения об ошибках CORS
✓ Логирование environment (DEV/PRODUCTION)
✓ Информативные ошибки для пользователя

═══════════════════════════════════════════════════════════════

📦 СОСТАВ СБОРКИ:

dist/
├── index.html              (0.46 KB)
├── .htaccess               (1.87 KB) - для React Router
├── assets/
│   ├── index-xxx.css       (173 KB)
│   └── index-xxx.js        (1.57 MB)
├── images/                 (все картинки проекта)
└── favicon.png             (2.4 KB)

Всего: ~10 MB (134 файла)
Архив: 8.8 MB

═══════════════════════════════════════════════════════════════

🔐 БЕЗОПАСНОСТЬ:

✓ JWT токены с истечением срока действия
✓ Автоматический logout при 401
✓ Поддержка sessionStorage для публичных компьютеров
✓ Refresh token для обновления сессии
✓ Защита роутов через ProtectedRoute

═══════════════════════════════════════════════════════════════

🌐 API ИНТЕГРАЦИЯ:

Работают:
✅ POST /api/v1/login       - авторизация
✅ GET  /api/v1/users       - список пользователей

Ожидаются на бэкенде:
⏳ GET  /api/v1/clients     - список клиентов
⏳ POST /api/v1/clients     - создание клиента
⏳ GET  /api/v1/vehicles    - список автомобилей
⏳ GET  /api/v1/work_orders - заказ-наряды
⏳ GET  /api/v1/employees   - сотрудники

═══════════════════════════════════════════════════════════════

👥 ТЕСТОВЫЕ ПОЛЬЗОВАТЕЛИ:

Пользователь 1:
  Email: eminov-mus@ya.ru
  ID: 1
  Роль: admin
  Пароль: ❓ (узнайте у программиста)

Пользователь 2:
  Email: go@osama.agency
  ID: 2
  Роль: admin
  Пароль: Eldar2026!

═══════════════════════════════════════════════════════════════

📝 СЛЕДУЮЩИЕ ШАГИ:

1. Загрузить на Beget (файлы готовы)
2. Настроить SSL сертификат
3. Попросить программиста реализовать API endpoints
4. После готовности API - включить автозагрузку данных
5. Тестирование всех функций

═══════════════════════════════════════════════════════════════

🎯 ТЕКУЩИЙ СТАТУС:

[✓] Фронтенд готов на 95%
[✓] Авторизация работает
[✓] UI/UX полностью реализован
[⏳] Ожидается готовность бэкенда API
[⏳] Требуется настройка CORS на бэкенде

═══════════════════════════════════════════════════════════════

📞 КОНТАКТЫ:

Если возникнут вопросы или проблемы при деплое - пишите!

═══════════════════════════════════════════════════════════════

